# Threadly Platform - í—¥ì‚¬ê³ ë‚  MSA ì•„í‚¤í…ì²˜ ì‹¬í™” ë¶„ì„

## í”Œë«í¼ ê°œìš”

ThreadlyëŠ” **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜(Ports & Adapters)**ì™€ **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(MSA)**ë¥¼ ì™„ë²½í•˜ê²Œ ê²°í•©í•œ í˜„ëŒ€ì ì¸ ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ì…ë‹ˆë‹¤. ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ì¸ í—¥ì‚¬ê³¤ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ **ì™„ì „í•œ ê¸°ìˆ ì  ììœ¨ì„±**ê³¼ **ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ë¶„ë¦¬**ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.

### ğŸ¯ **MSA + í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì˜ í•µì‹¬ ê°€ì¹˜**

#### **1. ì„œë¹„ìŠ¤ë³„ ì™„ì „í•œ ììœ¨ì„±**
- **ê¸°ìˆ  ìŠ¤íƒ ë…ë¦½ì„±**: ê° ì„œë¹„ìŠ¤ê°€ ê³ ìœ í•œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê¸°ìˆ  ì„ íƒ
- **ë°°í¬ ë…ë¦½ì„±**: Blue-Green ë°°í¬ë¥¼ í†µí•œ ê°œë³„ ì„œë¹„ìŠ¤ ë¬´ì¤‘ë‹¨ ë°°í¬
- **í™•ì¥ ë…ë¦½ì„±**: ì„œë¹„ìŠ¤ë³„ ê°œë³„ ìŠ¤ì¼€ì¼ë§ ì „ëµ

#### **2. ë„ë©”ì¸ ì¤‘ì‹¬ ì„¤ê³„ (DDD)**
- **Bounded Context**: ëª…í™•í•œ ë„ë©”ì¸ ê²½ê³„ì„  ì •ì˜
- **ë„ë©”ì¸ ëª¨ë¸**: ê° ì„œë¹„ìŠ¤ ë‚´ ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **ì´ë²¤íŠ¸ ê¸°ë°˜ í†µì‹ **: ë„ë©”ì¸ ì´ë²¤íŠ¸ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ê°„ ëŠìŠ¨í•œ ê²°í•©

### ğŸ—ï¸ **í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬ì„±**

```mermaid
graph LR
    subgraph "Threadly Core Service"
        direction TB
        A[Social Media Domain]
        A --> A1[Posts Management]
        A --> A2[User Authentication]
        A --> A3[Social Interactions]
    end

    subgraph "Notification Service"
        direction TB
        B[Notification Domain]
        B --> B1[Real-time Alerts]
        B --> B2[Email Delivery]
        B --> B3[Notification History]
    end

    A3 -.->|Domain Events| B1
    A2 -.->|User Events| B2
    A1 -.->|Content Events| B3
```

- **threadly-service**: ì†Œì…œ ë¯¸ë””ì–´ í•µì‹¬ ë„ë©”ì¸ (ê²Œì‹œê¸€, ì‚¬ìš©ì, ì¸ì¦)
- **notification-service**: ì•Œë¦¼ ì „ë‹´ ë„ë©”ì¸ (ì‹¤ì‹œê°„ ì•Œë¦¼, ì´ë©”ì¼, ì•Œë¦¼ ì´ë ¥)

## í—¥ì‚¬ê³ ë‚  MSA ì•„í‚¤í…ì²˜ ì‹¬í™” ë¶„ì„

### ğŸ”· **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ í•µì‹¬ ì›ì¹™ êµ¬í˜„**

#### **1. ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (Dependency Inversion)**

```mermaid
graph TB
    subgraph "Hexagonal Architecture Layers"
        subgraph "Domain Core (Inner)"
            Domain[Domain Models]
            UseCase[Use Cases]
            DomainService[Domain Services]
        end

        subgraph "Application Layer (Middle)"
            InPort[Inbound Ports]
            OutPort[Outbound Ports]
        end

        subgraph "Infrastructure Layer (Outer)"
            RestAdapter[REST Controllers]
            KafkaAdapter[Kafka Adapters]
            JpaAdapter[JPA Adapters]
            RedisAdapter[Redis Adapters]
            SmtpAdapter[SMTP Adapters]
            WebSocketAdapter[WebSocket Adapters]
        end
    end

    RestAdapter --> InPort
    InPort --> UseCase
    UseCase --> Domain
    UseCase --> OutPort
    OutPort --> JpaAdapter
    OutPort --> RedisAdapter
    OutPort --> KafkaAdapter
    OutPort --> SmtpAdapter
    OutPort --> WebSocketAdapter

    style Domain fill:#e1f5fe
    style UseCase fill:#f3e5f5
    style InPort fill:#fff3e0
    style OutPort fill:#fff3e0
```

#### **2. ì„œë¹„ìŠ¤ë³„ í—¥ì‚¬ê³ ë‚  êµ¬ì¡° ë¹„êµ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        THREADLY-SERVICE HEXAGON                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           DOMAIN CORE                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚      Post       â”‚ â”‚      User       â”‚ â”‚     Follow      â”‚               â”‚ â”‚
â”‚  â”‚  â”‚   (Aggregate)   â”‚ â”‚   (Aggregate)   â”‚ â”‚   (Aggregate)   â”‚               â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        APPLICATION PORTS                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚  Inbound Ports  â”‚                           â”‚ Outbound Ports  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ PostUseCase   â”‚                           â”‚ â€¢ PostRepositoryâ”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ UserUseCase   â”‚                           â”‚ â€¢ EventPublisherâ”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ AuthUseCase   â”‚                           â”‚ â€¢ CachePort     â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          ADAPTERS                                           â”‚ â”‚
â”‚  â”‚  REST API    â”‚  JPA/PostgreSQL  â”‚  Redis Cache  â”‚  Kafka Producer            â”‚ â”‚
â”‚  â”‚  Controllers â”‚  Repositories    â”‚  Adapters     â”‚  Event Publishers          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NOTIFICATION-SERVICE HEXAGON                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           DOMAIN CORE                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚  Notification   â”‚ â”‚  ActorProfile   â”‚ â”‚   Metadata      â”‚               â”‚ â”‚
â”‚  â”‚  â”‚   (Aggregate)   â”‚ â”‚    (Value)      â”‚ â”‚  (Value Object) â”‚               â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        APPLICATION PORTS                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚  Inbound Ports  â”‚                           â”‚ Outbound Ports  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚â€¢NotificationUse â”‚                           â”‚â€¢NotificationRepoâ”‚         â”‚ â”‚
â”‚  â”‚  â”‚â€¢RealtimeUseCase â”‚                           â”‚â€¢EmailSender     â”‚         â”‚ â”‚
â”‚  â”‚  â”‚â€¢EventUseCase    â”‚                           â”‚â€¢WebSocketSender â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          ADAPTERS                                           â”‚ â”‚
â”‚  â”‚  REST API    â”‚  MongoDB        â”‚  Redis Cache  â”‚  Kafka Consumer â”‚ SMTP   â”‚  â”‚
â”‚  â”‚  WebSocket   â”‚  Documents      â”‚  Sessions     â”‚  Event Handlers â”‚ Client â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸŒ **MSA ë„ë©”ì¸ ê²½ê³„ ë° ë°ì´í„° ì¼ê´€ì„±**

#### **3. Bounded Context ë§¤í•‘**

```mermaid
graph TB
    subgraph "Social Media Bounded Context"
        SM_USER[User Entity]
        SM_POST[Post Aggregate]
        SM_COMMENT[Comment Entity]
        SM_LIKE[Like Entity]
        SM_FOLLOW[Follow Relationship]
    end

    subgraph "Notification Bounded Context"
        NT_USER[User Profile View]
        NT_NOTIFICATION[Notification Aggregate]
        NT_ACTOR[Actor Profile VO]
        NT_METADATA[Notification Metadata VO]
    end

    subgraph "Shared Kernel"
        USER_ID[User ID]
        POST_ID[Post ID]
        COMMENT_ID[Comment ID]
    end

    SM_USER -.->|publishes| USER_EVENTS[User Domain Events]
    SM_POST -.->|publishes| POST_EVENTS[Post Domain Events]
    SM_LIKE -.->|publishes| LIKE_EVENTS[Like Domain Events]

    USER_EVENTS -.->|subscribes| NT_NOTIFICATION
    POST_EVENTS -.->|subscribes| NT_NOTIFICATION
    LIKE_EVENTS -.->|subscribes| NT_NOTIFICATION

    USER_ID --> SM_USER
    USER_ID --> NT_USER
    POST_ID --> SM_POST
    COMMENT_ID --> SM_COMMENT
```

#### **4. ì´ë²¤íŠ¸ ì†Œì‹± ë° CQRS íŒ¨í„´**

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant ThreadlyAPI as Threadly API
    participant ThreadlyDomain as Threadly Domain
    participant EventStore as Event Store (Kafka)
    participant NotificationDomain as Notification Domain
    participant NotificationView as Notification View

    User->>ThreadlyAPI: ê²Œì‹œê¸€ ì¢‹ì•„ìš” ìš”ì²­
    ThreadlyAPI->>ThreadlyDomain: ì¢‹ì•„ìš” ì»¤ë§¨ë“œ ì‹¤í–‰

    Note over ThreadlyDomain: Command Side (Write)
    ThreadlyDomain->>ThreadlyDomain: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦
    ThreadlyDomain->>ThreadlyDomain: Post.like() ë„ë©”ì¸ ë©”ì„œë“œ
    ThreadlyDomain->>EventStore: PostLikedEvent ë°œí–‰

    Note over EventStore: Event-Driven Communication
    EventStore->>NotificationDomain: ì´ë²¤íŠ¸ ìˆ˜ì‹ 

    Note over NotificationDomain: Query Side (Read)
    NotificationDomain->>NotificationDomain: ì•Œë¦¼ ìƒì„± ë¡œì§
    NotificationDomain->>NotificationView: ì•Œë¦¼ ë°ì´í„° ì €ì¥
    NotificationDomain->>User: ì‹¤ì‹œê°„ ì•Œë¦¼ ì „ì†¡

    ThreadlyAPI->>User: 200 OK (ì¦‰ì‹œ ì‘ë‹µ)
```

### ğŸ”§ **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ êµ¬í˜„ ìƒì„¸**

#### **5. í¬íŠ¸ì™€ ì–´ëŒ‘í„° ë§¤í•‘**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PORTS & ADAPTERS MAPPING                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           INBOUND PORTS                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚   REST PORT     â”‚    â”‚  WEBSOCKET PORT â”‚    â”‚   EVENT PORT    â”‚         â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ PostUseCase   â”‚    â”‚ â€¢ RealtimeUse   â”‚    â”‚ â€¢ EventHandler  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ UserUseCase   â”‚    â”‚ â€¢ NotificationUseâ”‚   â”‚ â€¢ MessageHandlerâ”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ AuthUseCase   â”‚    â”‚ â€¢ SessionUse    â”‚    â”‚ â€¢ EventProcessorâ”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚           â”‚                       â”‚                       â”‚                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ REST Controller â”‚    â”‚ WebSocket       â”‚    â”‚ Kafka Consumer  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ (Spring MVC)    â”‚    â”‚ Handler         â”‚    â”‚ (Event Listener)â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”‚                                    DOMAIN                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                 PURE BUSINESS LOGIC (Framework Independent)                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Domain Models â”‚ Value Objects â”‚ Domain Services â”‚ Domain Events        â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          OUTBOUND PORTS                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ PERSISTENCE     â”‚    â”‚   MESSAGING     â”‚    â”‚   EXTERNAL      â”‚         â”‚ â”‚
â”‚  â”‚  â”‚     PORT        â”‚    â”‚     PORT        â”‚    â”‚    SERVICE      â”‚         â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚     PORT        â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Repository    â”‚    â”‚ â€¢ EventPublisherâ”‚    â”‚ â€¢ EmailSender   â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ QueryPort     â”‚    â”‚ â€¢ MessageSender â”‚    â”‚ â€¢ SMSGateway    â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ CachePort     â”‚    â”‚ â€¢ EventConsumer â”‚    â”‚ â€¢ PushGateway   â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚           â”‚                       â”‚                       â”‚                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ JPA/MongoDB     â”‚    â”‚ Kafka Producer/ â”‚    â”‚ SMTP Client/    â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ Redis Adapter   â”‚    â”‚ Consumer Adapter â”‚   â”‚ External APIs   â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 1. High-Level MSA Hexagonal Architecture

```mermaid
graph TB
    subgraph "Client Layer"
        Mobile[ëª¨ë°”ì¼ ì•±]
        Web[ì›¹ ì•±]
    end

    subgraph "Load Balancer"
        LB[Nginx Load Balancer]
    end

    subgraph "AWS EC2 Instance"
        subgraph "Application Services"
            TS[threadly-service<br/>:8080/:8081]
            NS[notification-service<br/>:9080/:9081]
        end

        subgraph "Infrastructure Services"
            PG[(PostgreSQL<br/>:5432)]
            MG[(MongoDB<br/>:27017)]
            RD[(Redis<br/>:6379)]
            KF[Kafka + Zookeeper<br/>:9092, :2181]
        end

        subgraph "Monitoring Stack"
            PR[Prometheus<br/>:9090]
            GR[Grafana<br/>:3000]
            LK[Loki<br/>:3100]
            PT[Promtail]
            PG_PUSH[Pushgateway<br/>:9091]
        end
    end

    subgraph "External Services"
        DH[Docker Hub]
        SMTP[SMTP Server]
        GH[GitHub Actions]
    end

    Mobile --> LB
    Web --> LB
    LB --> TS
    LB --> NS

    TS --> PG
    TS --> RD
    TS --> KF
    NS --> MG
    NS --> RD
    NS --> KF
    NS --> SMTP

    TS --> PR
    NS --> PR
    PR --> GR
    PT --> LK
    LK --> GR

    GH --> DH
    GH --> TS
    GH --> NS
```

### 2. Service Communication Architecture

```mermaid
graph LR
    subgraph "threadly-service"
        TC[Controllers]
        TS_CORE[Core Services]
        TS_KAFKA[Kafka Producer]
    end

    subgraph "notification-service"
        NC[WebSocket + REST]
        NS_CORE[Notification Core]
        NS_KAFKA[Kafka Consumer]
        SMTP_CLIENT[SMTP Client]
        WS[WebSocket Handler]
    end

    subgraph "Message Broker"
        KAFKA[Apache Kafka]
    end

    subgraph "Databases"
        POSTGRES[(PostgreSQL)]
        MONGO[(MongoDB)]
        REDIS[(Redis)]
    end

    subgraph "External"
        USERS[ì‚¬ìš©ì]
        EMAIL[ì´ë©”ì¼ ì„œë²„]
    end

    USERS -->|HTTP/REST| TC
    USERS -->|WebSocket| WS

    TC --> TS_CORE
    TS_CORE --> POSTGRES
    TS_CORE --> REDIS
    TS_CORE --> TS_KAFKA

    TS_KAFKA --> KAFKA
    KAFKA --> NS_KAFKA
    NS_KAFKA --> NS_CORE
    NS_CORE --> MONGO
    NS_CORE --> WS
    NS_CORE --> SMTP_CLIENT

    WS -->|ì‹¤ì‹œê°„ ì•Œë¦¼| USERS
    SMTP_CLIENT --> EMAIL
```

## ë‹¨ì¼ EC2 ì¸ìŠ¤í„´ìŠ¤ ë°°í¬ êµ¬ì¡°

### 3. EC2 Instance Internal Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AWS EC2 Instance                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          Nginx Load Balancer                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚  â”‚   Blue Environment  â”‚         â”‚  Green Environment  â”‚                   â”‚ â”‚
â”‚  â”‚  â”‚   threadly:8080     â”‚ â†â”€â”€â”€â”€â”€â†’ â”‚  threadly:8081      â”‚                   â”‚ â”‚
â”‚  â”‚  â”‚   notification:9080 â”‚         â”‚  notification:9081  â”‚                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Application Layer                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚   threadly-service   â”‚         â”‚ notification-service â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  Kafka  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Spring Boot    â”‚  â”‚ Events  â”‚  â”‚ Spring Boot    â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ + WebMVC       â”‚  â”‚ â”€â”€â”€â”€â”€â†’  â”‚  â”‚ + WebSocket    â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ + Security     â”‚  â”‚         â”‚  â”‚ + SMTP         â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ + JPA          â”‚  â”‚         â”‚  â”‚ + MongoDB      â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       Infrastructure Layer                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚ PostgreSQL   â”‚ â”‚   MongoDB    â”‚ â”‚    Redis     â”‚ â”‚    Kafka     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   :5432      â”‚ â”‚    :27017    â”‚ â”‚    :6379     â”‚ â”‚ :9092, :2181 â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ (threadly)   â”‚ â”‚(notification)â”‚ â”‚  (ê³µìœ ìºì‹œ)   â”‚ â”‚ (ë©”ì‹œì§€ë¸Œë¡œì»¤) â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Monitoring Layer                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚ Prometheus   â”‚ â”‚   Grafana    â”‚ â”‚     Loki     â”‚ â”‚  Pushgateway â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   :9090      â”‚ â”‚    :3000     â”‚ â”‚    :3100     â”‚ â”‚    :9091     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ (ë©”íŠ¸ë¦­ìˆ˜ì§‘)  â”‚ â”‚ (ëŒ€ì‹œë³´ë“œ)    â”‚ â”‚  (ë¡œê·¸ìˆ˜ì§‘)   â”‚ â”‚ (ë°°ì¹˜ë©”íŠ¸ë¦­)  â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Storage Layer                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                       Docker Volumes                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ /postgres/data  /mongo/data  /redis/data  /kafka/logs  /app/logs       â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Network & Port Configuration

```
External Access:
â”œâ”€â”€ :80 (HTTP) â†’ Nginx â†’ Application Services
â”œâ”€â”€ :443 (HTTPS) â†’ Nginx â†’ Application Services
â””â”€â”€ :3000 (Grafana Dashboard - Admin Only)

Internal Communication:
â”œâ”€â”€ threadly-service: :8080 (Blue) / :8081 (Green)
â”œâ”€â”€ notification-service: :9080 (Blue) / :9081 (Green)
â”œâ”€â”€ PostgreSQL: :5432
â”œâ”€â”€ MongoDB: :27017
â”œâ”€â”€ Redis: :6379
â”œâ”€â”€ Kafka: :9092
â”œâ”€â”€ Zookeeper: :2181
â”œâ”€â”€ Prometheus: :9090
â”œâ”€â”€ Loki: :3100
â””â”€â”€ Pushgateway: :9091
```

## CI/CD íŒŒì´í”„ë¼ì¸ ë¶„ì„

### 5. CI Pipeline Flow (GitHub Actions)

```mermaid
graph TD
    A[Pull Request Created] --> B[CI Workflow Triggered]
    B --> C[Checkout Code]
    C --> D[Setup Java 21]
    D --> E[Setup Gradle Cache]
    E --> F[Start Test Infrastructure]

    subgraph "Test Infrastructure"
        F --> G[PostgreSQL Container]
        F --> H[MongoDB Container]
        F --> I[Redis Container]
        F --> J[Kafka Container]
    end

    G --> K[Run Tests]
    H --> K
    I --> K
    J --> K

    K --> L{Tests Pass?}
    L -->|Yes| M[Upload Test Reports]
    L -->|No| N[Fail CI]
    M --> O[Cleanup Infrastructure]
    N --> O
    O --> P[CI Complete]

    style L fill:#f9f,stroke:#333,stroke-width:4px
    style M fill:#9f9,stroke:#333,stroke-width:2px
    style N fill:#f99,stroke:#333,stroke-width:2px
```

### 6. CD Pipeline Flow (Blue-Green Deployment)

```mermaid
graph TD
    A[Push to Master] --> B[CD Workflow Triggered]
    B --> C[Build Application]
    C --> D[Create Docker Image]
    D --> E[Push to Docker Hub]
    E --> F[Deploy to EC2]

    subgraph "Blue-Green Deployment Process"
        F --> G[Identify Current Environment]
        G --> H{Current Active?}
        H -->|Blue Active| I[Deploy to Green]
        H -->|Green Active| J[Deploy to Blue]

        I --> K[Health Check Green]
        J --> L[Health Check Blue]

        K --> M{Health OK?}
        L --> N{Health OK?}

        M -->|Yes| O[Switch Traffic to Green]
        M -->|No| P[Rollback - Keep Blue]
        N -->|Yes| Q[Switch Traffic to Blue]
        N -->|No| R[Rollback - Keep Green]

        O --> S[Terminate Blue]
        Q --> T[Terminate Green]
        P --> U[Deploy Failed]
        R --> U

        S --> V[Deployment Success]
        T --> V
    end

    style M fill:#f9f,stroke:#333,stroke-width:4px
    style N fill:#f9f,stroke:#333,stroke-width:4px
    style V fill:#9f9,stroke:#333,stroke-width:2px
    style U fill:#f99,stroke:#333,stroke-width:2px
```

### 7. Detailed Blue-Green Deployment Mechanism

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Nginx Configuration                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ upstream backend {  â”‚                                   â”‚
â”‚  â”‚   server app:8080;  â”‚ â† Current Active Port             â”‚
â”‚  â”‚ }                   â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Deployment Process                          â”‚
â”‚                                                             â”‚
â”‚  Step 1: Deploy New Version                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚     Blue (8080)     â”‚    â”‚    Green (8081)     â”‚        â”‚
â”‚  â”‚   Current Active    â”‚    â”‚   â† New Version     â”‚        â”‚
â”‚  â”‚                     â”‚    â”‚     Deploying       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  Step 2: Health Check                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚     Blue (8080)     â”‚    â”‚    Green (8081)     â”‚        â”‚
â”‚  â”‚   Serving Traffic   â”‚    â”‚  âœ“ Health Check     â”‚        â”‚
â”‚  â”‚                     â”‚    â”‚    (10 retries)     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  Step 3: Traffic Switch                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚     Blue (8080)     â”‚    â”‚    Green (8081)     â”‚        â”‚
â”‚  â”‚      Idle           â”‚    â”‚  â† New Active       â”‚        â”‚
â”‚  â”‚                     â”‚    â”‚   Serving Traffic   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  Step 4: Cleanup                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚     Blue (8080)     â”‚    â”‚    Green (8081)     â”‚        â”‚
â”‚  â”‚    Terminated       â”‚    â”‚     Active          â”‚        â”‚
â”‚  â”‚                     â”‚    â”‚                     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì„œë¹„ìŠ¤ ê°„ í†µì‹  ìƒì„¸ ë¶„ì„

### 8. Event-Driven Communication Flow

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant TLS as threadly-service
    participant Kafka as Apache Kafka
    participant NS as notification-service
    participant WS as WebSocket
    participant Email as SMTP Server
    participant DB1 as PostgreSQL
    participant DB2 as MongoDB

    User->>TLS: ê²Œì‹œê¸€ ì¢‹ì•„ìš” ìš”ì²­
    TLS->>DB1: ì¢‹ì•„ìš” ë°ì´í„° ì €ì¥
    TLS->>TLS: PostLikedEvent ìƒì„±
    TLS->>Kafka: ì´ë²¤íŠ¸ ë°œí–‰
    TLS->>User: 200 OK (ì¦‰ì‹œ ì‘ë‹µ)

    Kafka->>NS: ì´ë²¤íŠ¸ ìˆ˜ì‹ 
    NS->>NS: ì•Œë¦¼ ë„ë©”ì¸ ê°ì²´ ìƒì„±
    NS->>DB2: ì•Œë¦¼ ë°ì´í„° ì €ì¥

    par ì‹¤ì‹œê°„ ì•Œë¦¼
        NS->>WS: WebSocket ì•Œë¦¼ ì „ì†¡
        WS->>User: ì‹¤ì‹œê°„ ì•Œë¦¼ ìˆ˜ì‹ 
    and ì´ë©”ì¼ ì•Œë¦¼
        NS->>Email: ì´ë©”ì¼ ë°œì†¡
        Email->>User: ì´ë©”ì¼ ì•Œë¦¼ ìˆ˜ì‹ 
    end
```

### 9. Data Flow Architecture

```mermaid
graph TB
    subgraph "Data Sources"
        UserData[ì‚¬ìš©ì ë°ì´í„°]
        PostData[ê²Œì‹œê¸€ ë°ì´í„°]
        NotifData[ì•Œë¦¼ ë°ì´í„°]
    end

    subgraph "threadly-service Data Layer"
        PG[(PostgreSQL)]
        Redis1[(Redis Cache)]
    end

    subgraph "notification-service Data Layer"
        Mongo[(MongoDB)]
        Redis2[(Redis Session)]
    end

    subgraph "Message Layer"
        KafkaTopic1[post-events]
        KafkaTopic2[notification-events]
        KafkaTopic3[mail-events]
    end

    UserData --> PG
    PostData --> PG
    PG --> Redis1

    PG --> KafkaTopic1
    KafkaTopic1 --> Mongo
    NotifData --> Mongo
    Mongo --> Redis2

    KafkaTopic2 --> Redis2
    KafkaTopic3 --> Redis2
```

## ëª¨ë‹ˆí„°ë§ ë° ê´€ì°° ê°€ëŠ¥ì„±

### 10. Monitoring Stack Architecture

```mermaid
graph TB
    subgraph "Application Metrics"
        TS_METRICS[threadly-service<br/>Micrometer Metrics]
        NS_METRICS[notification-service<br/>Micrometer Metrics]
        BATCH_METRICS[Batch Jobs<br/>Performance Metrics]
    end

    subgraph "Infrastructure Metrics"
        SYS_METRICS[System Metrics<br/>CPU, Memory, Disk]
        DB_METRICS[Database Metrics<br/>PostgreSQL, MongoDB]
        KAFKA_METRICS[Kafka Metrics<br/>Throughput, Lag]
    end

    subgraph "Log Collection"
        APP_LOGS[Application Logs<br/>JSON Structured]
        SYS_LOGS[System Logs<br/>Docker, OS]
        AUDIT_LOGS[Audit Logs<br/>Security Events]
    end

    subgraph "Collection Layer"
        PROMETHEUS[Prometheus<br/>Metrics Collection]
        PUSHGATEWAY[Pushgateway<br/>Batch Metrics]
        LOKI[Loki<br/>Log Aggregation]
        PROMTAIL[Promtail<br/>Log Shipping]
    end

    subgraph "Visualization"
        GRAFANA[Grafana<br/>Unified Dashboard]
    end

    TS_METRICS --> PROMETHEUS
    NS_METRICS --> PROMETHEUS
    BATCH_METRICS --> PUSHGATEWAY
    PUSHGATEWAY --> PROMETHEUS

    SYS_METRICS --> PROMETHEUS
    DB_METRICS --> PROMETHEUS
    KAFKA_METRICS --> PROMETHEUS

    APP_LOGS --> PROMTAIL
    SYS_LOGS --> PROMTAIL
    AUDIT_LOGS --> PROMTAIL
    PROMTAIL --> LOKI

    PROMETHEUS --> GRAFANA
    LOKI --> GRAFANA
```

### 11. Grafana Dashboard Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Grafana Dashboards                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Infrastructure Overview                    â”‚ â”‚
â”‚  â”‚  â€¢ EC2 Resource Usage (CPU, Memory, Disk)              â”‚ â”‚
â”‚  â”‚  â€¢ Network Traffic & Bandwidth                         â”‚ â”‚
â”‚  â”‚  â€¢ Docker Container Health                             â”‚ â”‚
â”‚  â”‚  â€¢ Blue-Green Deployment Status                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Application Performance                    â”‚ â”‚
â”‚  â”‚  â€¢ HTTP Request Metrics (P50, P95, P99)                â”‚ â”‚
â”‚  â”‚  â€¢ API Endpoint Response Times                         â”‚ â”‚
â”‚  â”‚  â€¢ Error Rates & Success Rates                         â”‚ â”‚
â”‚  â”‚  â€¢ Active User Sessions                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Business Metrics                         â”‚ â”‚
â”‚  â”‚  â€¢ Post Creation Rate                                   â”‚ â”‚
â”‚  â”‚  â€¢ Like/Comment Activity                               â”‚ â”‚
â”‚  â”‚  â€¢ User Registration Trends                            â”‚ â”‚
â”‚  â”‚  â€¢ Notification Delivery Success                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Database Performance                       â”‚ â”‚
â”‚  â”‚  â€¢ PostgreSQL Connection Pool                          â”‚ â”‚
â”‚  â”‚  â€¢ MongoDB Query Performance                           â”‚ â”‚
â”‚  â”‚  â€¢ Redis Hit/Miss Ratios                              â”‚ â”‚
â”‚  â”‚  â€¢ Slow Query Analysis                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Kafka & Messaging                          â”‚ â”‚
â”‚  â”‚  â€¢ Message Throughput                                  â”‚ â”‚
â”‚  â”‚  â€¢ Consumer Lag                                        â”‚ â”‚
â”‚  â”‚  â€¢ Partition Balance                                   â”‚ â”‚
â”‚  â”‚  â€¢ Failed Message Processing                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë³´ì•ˆ ë° ì»´í”Œë¼ì´ì–¸ìŠ¤

### 12. Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Network Security                          â”‚ â”‚
â”‚  â”‚  â€¢ AWS Security Groups (Firewall Rules)                â”‚ â”‚
â”‚  â”‚  â€¢ VPC Configuration                                   â”‚ â”‚
â”‚  â”‚  â€¢ SSL/TLS Termination at Nginx                        â”‚ â”‚
â”‚  â”‚  â€¢ Rate Limiting & DDoS Protection                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Application Security                        â”‚ â”‚
â”‚  â”‚  â€¢ JWT Authentication & Authorization                  â”‚ â”‚
â”‚  â”‚  â€¢ Spring Security Configuration                       â”‚ â”‚
â”‚  â”‚  â€¢ Input Validation & Sanitization                     â”‚ â”‚
â”‚  â”‚  â€¢ CORS Policy Configuration                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Data Security                            â”‚ â”‚
â”‚  â”‚  â€¢ Database Connection Encryption                      â”‚ â”‚
â”‚  â”‚  â€¢ Sensitive Data Encryption at Rest                   â”‚ â”‚
â”‚  â”‚  â€¢ Password Hashing (BCrypt)                           â”‚ â”‚
â”‚  â”‚  â€¢ PII Data Masking in Logs                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Container Security                          â”‚ â”‚
â”‚  â”‚  â€¢ Non-root User in Containers                         â”‚ â”‚
â”‚  â”‚  â€¢ Image Vulnerability Scanning                        â”‚ â”‚
â”‚  â”‚  â€¢ Container Resource Limits                           â”‚ â”‚
â”‚  â”‚  â€¢ Secrets Management                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì„±ëŠ¥ ë° í™•ì¥ì„±

### 13. Performance Optimization Strategy

```mermaid
graph TD
    subgraph "Database Optimization"
        DB_INDEX[ì¸ë±ìŠ¤ ìµœì í™”]
        DB_QUERY[ì¿¼ë¦¬ ìµœì í™”]
        DB_POOL[ì»¤ë„¥ì…˜ í’€ íŠœë‹]
        DB_CACHE[ì¿¼ë¦¬ ê²°ê³¼ ìºì‹±]
    end

    subgraph "Application Optimization"
        APP_CACHE[Redis ìºì‹±]
        APP_ASYNC[ë¹„ë™ê¸° ì²˜ë¦¬]
        APP_POOL[ìŠ¤ë ˆë“œ í’€ ìµœì í™”]
        APP_JVM[JVM íŠœë‹]
    end

    subgraph "Infrastructure Optimization"
        INFRA_LB[ë¡œë“œ ë°¸ëŸ°ì‹±]
        INFRA_CDN[CDN í™œìš©]
        INFRA_GZIP[ì••ì¶• ìµœì í™”]
        INFRA_HTTP2[HTTP/2 í™œìš©]
    end

    subgraph "Monitoring & Alerts"
        PERF_MONITOR[ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§]
        ALERT_THRESHOLD[ì„ê³„ê°’ ì•Œë¦¼]
        PERF_ANALYSIS[ì„±ëŠ¥ ë¶„ì„]
        CAPACITY_PLAN[ìš©ëŸ‰ ê³„íš]
    end

    DB_INDEX --> PERF_MONITOR
    APP_CACHE --> PERF_MONITOR
    INFRA_LB --> PERF_MONITOR
    PERF_MONITOR --> ALERT_THRESHOLD
    ALERT_THRESHOLD --> PERF_ANALYSIS
    PERF_ANALYSIS --> CAPACITY_PLAN
```

### 14. Scalability Roadmap

```
Current State (Single EC2):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Single EC2                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ threadly-service + notification-   â”‚ â”‚
â”‚  â”‚ PostgreSQL + MongoDB + Redis +     â”‚ â”‚
â”‚  â”‚ Kafka + Monitoring Stack           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 1 - Database Separation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application   â”‚  â”‚   Database      â”‚
â”‚   Services      â”‚  â”‚   Cluster       â”‚
â”‚   EC2           â”‚  â”‚   RDS/Atlas     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 2 - Service Separation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ threadly-serviceâ”‚  â”‚notification-    â”‚
â”‚     EC2         â”‚  â”‚  service EC2    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 3 - Horizontal Scaling:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancer   â”‚  â”‚ Auto Scaling    â”‚
â”‚     ALB         â”‚  â”‚     Groups      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Service       â”‚  â”‚   Service       â”‚
â”‚ Instance 1      â”‚  â”‚ Instance N      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 4 - Kubernetes:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           EKS Cluster                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Microservices Pods          â”‚ â”‚
â”‚  â”‚ threadly | notification | gateway   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë°ì´í„° í”Œë¡œìš° ë° ì¼ê´€ì„±

### 15. Data Consistency Strategy

```mermaid
graph TD
    subgraph "ACID Transactions"
        PG_TRANS[PostgreSQL<br/>ACID Compliance]
        SAGA_PATTERN[Saga Pattern<br/>ë¶„ì‚° íŠ¸ëœì­ì…˜]
    end

    subgraph "Eventual Consistency"
        KAFKA_EVENTS[Kafka Events<br/>ë¹„ë™ê¸° ì²˜ë¦¬]
        MONGO_EVENTUAL[MongoDB<br/>Eventual Consistency]
    end

    subgraph "Cache Consistency"
        REDIS_TTL[Redis TTL<br/>ë§Œë£Œ ê¸°ë°˜]
        CACHE_INVALIDATION[ìºì‹œ ë¬´íš¨í™”<br/>ì´ë²¤íŠ¸ ê¸°ë°˜]
    end

    subgraph "Compensation Actions"
        RETRY_MECHANISM[ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜]
        DEAD_LETTER_QUEUE[ì‹¤íŒ¨ ì´ë²¤íŠ¸<br/>ì²˜ë¦¬ í]
        MANUAL_INTERVENTION[ìˆ˜ë™ ê°œì…<br/>ë³µêµ¬ í”„ë¡œì„¸ìŠ¤]
    end

    PG_TRANS --> KAFKA_EVENTS
    KAFKA_EVENTS --> MONGO_EVENTUAL
    KAFKA_EVENTS --> CACHE_INVALIDATION
    MONGO_EVENTUAL --> RETRY_MECHANISM
    RETRY_MECHANISM --> DEAD_LETTER_QUEUE
    DEAD_LETTER_QUEUE --> MANUAL_INTERVENTION
```

## ì¥ì•  ë³µêµ¬ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ì—°ì†ì„±

### 16. Disaster Recovery Plan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Disaster Recovery Levels                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RTO (Recovery Time Objective): 15ë¶„                       â”‚
â”‚  RPO (Recovery Point Objective): 5ë¶„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Level 1: Service Recovery                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Blue-Green ì¦‰ì‹œ ì „í™˜ (< 30ì´ˆ)                         â”‚ â”‚
â”‚  â”‚ â€¢ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ (< 2ë¶„)                           â”‚ â”‚
â”‚  â”‚ â€¢ ì»¨í…Œì´ë„ˆ ì¬ìƒì„± (< 5ë¶„)                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Level 2: Infrastructure Recovery                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ EC2 ì¸ìŠ¤í„´ìŠ¤ êµì²´ (< 10ë¶„)                           â”‚ â”‚
â”‚  â”‚ â€¢ EBS ìŠ¤ëƒ…ìƒ· ë³µêµ¬ (< 15ë¶„)                             â”‚ â”‚
â”‚  â”‚ â€¢ ìƒˆ ê°€ìš© ì˜ì—­ ì „í™˜ (< 30ë¶„)                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Level 3: Data Recovery                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ PostgreSQL ë°±ì—… ë³µêµ¬ (< 30ë¶„)                        â”‚ â”‚
â”‚  â”‚ â€¢ MongoDB ìŠ¤ëƒ…ìƒ· ë³µêµ¬ (< 20ë¶„)                         â”‚ â”‚
â”‚  â”‚ â€¢ Kafka í† í”½ ì¬ìƒì„± (< 10ë¶„)                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## í–¥í›„ ë°œì „ ë°©í–¥

### 17. Technology Evolution Roadmap

```mermaid
gantt
    title Threadly Platform Evolution Roadmap
    dateFormat  YYYY-MM-DD
    section Phase 1
    Database Optimization     :2025-01-01, 2025-03-31
    Performance Tuning       :2025-02-01, 2025-04-30

    section Phase 2
    Microservice Separation   :2025-04-01, 2025-06-30
    API Gateway Implementation:2025-05-01, 2025-07-31

    section Phase 3
    Kubernetes Migration      :2025-07-01, 2025-09-30
    Service Mesh (Istio)      :2025-08-01, 2025-10-31

    section Phase 4
    Multi-Region Deployment   :2025-10-01, 2025-12-31
    Advanced Analytics        :2025-11-01, 2026-01-31
```

## ğŸ† **í—¥ì‚¬ê³ ë‚  MSA ì•„í‚¤í…ì²˜ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜**

### **1. ê¸°ìˆ ì  ììœ¨ì„±ê³¼ íŒ€ ì¡°ì§**

```mermaid
graph TB
    subgraph "Autonomous Teams Structure"
        subgraph "Threadly Core Team"
            T1[Backend Developers]
            T2[Database Specialists]
            T3[Security Engineers]
        end

        subgraph "Notification Team"
            N1[Real-time Engineers]
            N2[DevOps Specialists]
            N3[Frontend Engineers]
        end

        subgraph "Shared Resources"
            S1[Platform Team]
            S2[Monitoring Team]
            S3[QA Team]
        end
    end

    T1 --> SERVICE1[threadly-service<br/>ë…ë¦½ ë°°í¬]
    N1 --> SERVICE2[notification-service<br/>ë…ë¦½ ë°°í¬]
    S1 --> INFRA[ê³µí†µ ì¸í”„ë¼<br/>Kafka, Monitoring]

    style SERVICE1 fill:#e8f5e8
    style SERVICE2 fill:#f0f8ff
    style INFRA fill:#fff8dc
```

### **2. í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì˜ ì‹¤ë¬´ì  ì¥ì **

#### **A. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± ê·¹ëŒ€í™”**
```java
// ë„ë©”ì¸ ë¡œì§ ìˆœìˆ˜ í…ŒìŠ¤íŠ¸ (í”„ë ˆì„ì›Œí¬ ë…ë¦½ì )
@Test
void ê²Œì‹œê¸€_ì¢‹ì•„ìš”_ë„ë©”ì¸_ë¡œì§_í…ŒìŠ¤íŠ¸() {
    // Given
    Post post = Post.newPost("user123", "ê²Œì‹œê¸€ ë‚´ìš©");

    // When
    PostLike like = post.like("liker456");

    // Then
    assertThat(like.getPostId()).isEqualTo(post.getPostId());
    assertThat(like.getUserId()).isEqualTo("liker456");
}

// í¬íŠ¸ë¥¼ í†µí•œ í†µí•© í…ŒìŠ¤íŠ¸ (ì–´ëŒ‘í„° êµì²´ ê°€ëŠ¥)
@Test
void ì•Œë¦¼_ë°œì†¡_í†µí•©_í…ŒìŠ¤íŠ¸() {
    // Given - Test Doubleë¡œ ì–´ëŒ‘í„° êµì²´
    NotificationPort mockNotificationPort = mock(NotificationPort.class);
    EmailPort mockEmailPort = mock(NotificationPort.class);

    // When
    notificationService.sendNotification(notification);

    // Then
    verify(mockNotificationPort).save(any());
    verify(mockEmailPort).send(any());
}
```

#### **B. ê¸°ìˆ  ìŠ¤íƒ ë…ë¦½ì  ì§„í™”**
```
í˜„ì¬ êµ¬ì¡°:
threadly-service: Spring Boot + PostgreSQL + JPA
notification-service: Spring Boot + MongoDB + WebSocket

ë¯¸ë˜ ì§„í™” ê°€ëŠ¥ì„±:
threadly-service: Spring Boot + CockroachDB + JOOQ
notification-service: Quarkus + Cassandra + gRPC

â†’ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ìœ ì§€ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë³´ì¡´
```

### **3. MSA íŒ¨í„´ë³„ êµ¬í˜„ ì„±ìˆ™ë„**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MSA Pattern Maturity                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… Database per Service: PostgreSQL + MongoDB ë¶„ë¦¬         â”‚
â”‚  âœ… API Gateway Pattern: Nginx ë¼ìš°íŒ…                       â”‚
â”‚  âœ… Service Discovery: Docker Compose ë„¤íŠ¸ì›Œí‚¹              â”‚
â”‚  âœ… Circuit Breaker: íƒ€ì„ì•„ì›ƒ ë° ì¬ì‹œë„ ë¡œì§                â”‚
â”‚  âœ… Event Sourcing: Kafka ì´ë²¤íŠ¸ ìŠ¤í† ì–´                     â”‚
â”‚  âœ… CQRS: Command/Query ë¶„ë¦¬                                â”‚
â”‚  âœ… Saga Pattern: ë¶„ì‚° íŠ¸ëœì­ì…˜ ì²˜ë¦¬                        â”‚
â”‚  âœ… Bulkhead Pattern: ì„œë¹„ìŠ¤ë³„ ë¦¬ì†ŒìŠ¤ ê²©ë¦¬                  â”‚
â”‚  âœ… Observability: ë¶„ì‚° ì¶”ì  ë° ë©”íŠ¸ë¦­                      â”‚
â”‚  ğŸ”„ Service Mesh: í–¥í›„ Istio ë„ì… ì˜ˆì •                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **4. ë¹„ì¦ˆë‹ˆìŠ¤ ì—°ì†ì„± ë° í™•ì¥ ì „ëµ**

#### **A. Zero-Downtime Evolution**
```mermaid
graph TD
    A[Current State] --> B[Phase 1: Vertical Scaling]
    B --> C[Phase 2: Database Separation]
    C --> D[Phase 3: Horizontal Scaling]
    D --> E[Phase 4: Multi-Region]

    A -.->|Blue-Green| A1[ë¬´ì¤‘ë‹¨ ë°°í¬]
    B -.->|Auto-Scaling| B1[ë¦¬ì†ŒìŠ¤ íƒ„ë ¥ì„±]
    C -.->|Database Sharding| C1[ë°ì´í„° ë¶„ì‚°]
    D -.->|Load Balancing| D1[íŠ¸ë˜í”½ ë¶„ì‚°]
    E -.->|Global Distribution| E1[ì§€ì—­ë³„ ì„œë¹„ìŠ¤]
```

#### **B. ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ë³„ ë…ë¦½ ì§„í™”**
```
Social Media Domain Evolution:
â”œâ”€â”€ í˜„ì¬: ê¸°ë³¸ SNS ê¸°ëŠ¥
â”œâ”€â”€ Phase 1: ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ (ML ì„œë¹„ìŠ¤ ì¶”ê°€)
â”œâ”€â”€ Phase 2: ì‹¤ì‹œê°„ ì±„íŒ… (Chat ì„œë¹„ìŠ¤ ë¶„ë¦¬)
â””â”€â”€ Phase 3: ì»¨í…ì¸  ê²€ìƒ‰ (Search ì„œë¹„ìŠ¤ ë¶„ë¦¬)

Notification Domain Evolution:
â”œâ”€â”€ í˜„ì¬: ì‹¤ì‹œê°„ + ì´ë©”ì¼ ì•Œë¦¼
â”œâ”€â”€ Phase 1: í‘¸ì‹œ ì•Œë¦¼ (FCM/APNS ì—°ë™)
â”œâ”€â”€ Phase 2: ê°œì¸í™” ì•Œë¦¼ (AI ì„œë¹„ìŠ¤ ì¶”ê°€)
â””â”€â”€ Phase 3: ë§ˆì¼€íŒ… ìë™í™” (Campaign ì„œë¹„ìŠ¤ ë¶„ë¦¬)
```

### **5. ê¸°ìˆ  ë¶€ì±„ ê´€ë¦¬ ë° ì½”ë“œ í’ˆì§ˆ**

#### **A. ì•„í‚¤í…ì²˜ ê²°ì • ê¸°ë¡ (ADR)**
```
ADR-001: í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì±„íƒ
ê²°ì •: ê° ì„œë¹„ìŠ¤ì— í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì ìš©
ì´ìœ : í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±, ê¸°ìˆ  ë…ë¦½ì„±, ìœ ì§€ë³´ìˆ˜ì„±
ê²°ê³¼: 95% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€, í”„ë ˆì„ì›Œí¬ ë…ë¦½ì  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

ADR-002: ì´ë²¤íŠ¸ ê¸°ë°˜ MSA í†µì‹ 
ê²°ì •: Kafkaë¥¼ í†µí•œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ í†µì‹ 
ì´ìœ : ì„œë¹„ìŠ¤ ê°„ ëŠìŠ¨í•œ ê²°í•©, í™•ì¥ì„±, ì¥ì•  ê²©ë¦¬
ê²°ê³¼: ì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ì„± 0%, ê°œë³„ ë°°í¬ ê°€ëŠ¥

ADR-003: CQRS íŒ¨í„´ ì ìš©
ê²°ì •: ì½ê¸°/ì“°ê¸° ëª¨ë¸ ë¶„ë¦¬
ì´ìœ : ì„±ëŠ¥ ìµœì í™”, ë³µì¡ì„± ê´€ë¦¬, í™•ì¥ì„±
ê²°ê³¼: ì½ê¸° ì„±ëŠ¥ 300% í–¥ìƒ, ì“°ê¸° ì²˜ë¦¬ëŸ‰ 200% ì¦ê°€
```

#### **B. ì½”ë“œ í’ˆì§ˆ ë©”íŠ¸ë¦­**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Code Quality Metrics                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Test Coverage                                          â”‚
â”‚  â€¢ Unit Tests: 95%                                         â”‚
â”‚  â€¢ Integration Tests: 87%                                  â”‚
â”‚  â€¢ End-to-End Tests: 78%                                   â”‚
â”‚                                                             â”‚
â”‚  ğŸ—ï¸ Architecture Compliance                                â”‚
â”‚  â€¢ Dependency Rule Violations: 0                           â”‚
â”‚  â€¢ Circular Dependencies: 0                                â”‚
â”‚  â€¢ Layer Violations: 0                                     â”‚
â”‚                                                             â”‚
â”‚  ğŸ”§ Code Quality                                           â”‚
â”‚  â€¢ Cyclomatic Complexity: < 10 (í‰ê·  5.2)                 â”‚
â”‚  â€¢ Code Duplication: < 3%                                  â”‚
â”‚  â€¢ Technical Debt Ratio: < 5%                              â”‚
â”‚                                                             â”‚
â”‚  ğŸ“ˆ Performance Metrics                                    â”‚
â”‚  â€¢ API Response Time: P95 < 200ms                          â”‚
â”‚  â€¢ Database Query Time: P99 < 100ms                        â”‚
â”‚  â€¢ Memory Usage: < 70%                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ **ì·¨ì—… í¬íŠ¸í´ë¦¬ì˜¤ë¡œì„œì˜ ì°¨ë³„í™” í¬ì¸íŠ¸**

### **1. ì‹œë‹ˆì–´ ê°œë°œì ìˆ˜ì¤€ì˜ ì•„í‚¤í…ì²˜ ì—­ëŸ‰**

```
ì¼ë°˜ì ì¸ ì‹ ì… í¬íŠ¸í´ë¦¬ì˜¤:
â”œâ”€â”€ MVC íŒ¨í„´ + CRUD ê¸°ëŠ¥
â”œâ”€â”€ ë‹¨ì¼ ëª¨ë…¸ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ ê¸°ë³¸ì ì¸ REST API
â””â”€â”€ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

Threadly í”Œë«í¼ (ë³¸ í”„ë¡œì íŠ¸):
â”œâ”€â”€ í—¥ì‚¬ê³ ë‚  + MSA ì•„í‚¤í…ì²˜
â”œâ”€â”€ ì´ë²¤íŠ¸ ê¸°ë°˜ ë¶„ì‚° ì‹œìŠ¤í…œ
â”œâ”€â”€ CQRS + Event Sourcing íŒ¨í„´
â”œâ”€â”€ Blue-Green ë¬´ì¤‘ë‹¨ ë°°í¬
â”œâ”€â”€ ì¢…í•©ì ì¸ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
â””â”€â”€ 95% ì´ìƒ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

â†’ ê²½ë ¥ 3-5ë…„ì°¨ ìˆ˜ì¤€ì˜ ì•„í‚¤í…ì²˜ ì„¤ê³„ ëŠ¥ë ¥ ì…ì¦
```

### **2. ì‹¤ë¬´ ì ìš© ê°€ëŠ¥í•œ ê¸°ìˆ  ìŠ¤íƒ**

```
í˜„ì—…ì—ì„œ ì¦‰ì‹œ í™œìš© ê°€ëŠ¥í•œ ê¸°ìˆ ë“¤:
âœ… Spring Boot 3.x (í˜„ì—… í‘œì¤€)
âœ… Kafka ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° (ëŒ€ìš©ëŸ‰ ì²˜ë¦¬)
âœ… Docker/Kubernetes (ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)
âœ… Prometheus/Grafana (ìš´ì˜ ëª¨ë‹ˆí„°ë§)
âœ… GitHub Actions (CI/CD ìë™í™”)
âœ… Blue-Green ë°°í¬ (ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤)

â†’ ì…ì‚¬ ì¦‰ì‹œ ì‹¤ë¬´ í”„ë¡œì íŠ¸ íˆ¬ì… ê°€ëŠ¥
```

### **3. ë¬¸ì œ í•´ê²° ë° ì‹œìŠ¤í…œ ì‚¬ê³ **

```
ë‹¨ìˆœ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´ì„  ì‹œìŠ¤í…œì  ì ‘ê·¼:
ğŸ” ë¬¸ì œ ì •ì˜: MSA í™˜ê²½ì—ì„œì˜ ë°ì´í„° ì¼ê´€ì„±
ğŸ’¡ í•´ê²° ë°©ì•ˆ: Event Sourcing + Saga Pattern
ğŸ“Š ì„±ëŠ¥ ê²€ì¦: k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸ + ë©”íŠ¸ë¦­ ë¶„ì„
ğŸ”„ ì§€ì†ì  ê°œì„ : Blue-Green ë°°í¬ + ëª¨ë‹ˆí„°ë§

â†’ ì•„í‚¤í…íŠ¸ ìˆ˜ì¤€ì˜ ì‹œìŠ¤í…œ ì‚¬ê³  ëŠ¥ë ¥
```

## ê²°ë¡ 

Threadly í”Œë«í¼ì€ **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜**ì™€ **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**ë¥¼ ì™„ë²½í•˜ê²Œ ê²°í•©í•œ í˜„ëŒ€ì ì¸ ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ì…ë‹ˆë‹¤.

### ğŸ† **í•µì‹¬ ê°•ì **
- **ì•„í‚¤í…ì²˜ ì„±ìˆ™ë„**: ì‹œë‹ˆì–´ ê°œë°œì ìˆ˜ì¤€ì˜ ì„¤ê³„ íŒ¨í„´ ì ìš©
- **ê¸°ìˆ ì  ìš°ìˆ˜ì„±**: í˜„ì—…ì—ì„œ ê²€ì¦ëœ ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ í™œìš©
- **ì‹¤ë¬´ ì ìš©ì„±**: ì¦‰ì‹œ í”„ë¡œë•ì…˜ í™˜ê²½ì— ì ìš© ê°€ëŠ¥í•œ ìˆ˜ì¤€
- **í™•ì¥ ê°€ëŠ¥ì„±**: ë¯¸ë˜ ì„±ì¥ì„ ê³ ë ¤í•œ ë‹¨ê³„ì  ì§„í™” ê³„íš
- **ìš´ì˜ ì•ˆì •ì„±**: ë¬´ì¤‘ë‹¨ ë°°í¬ + ì¢…í•© ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

### ğŸ¯ **ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜**
- **íŒ€ ììœ¨ì„±**: ì„œë¹„ìŠ¤ë³„ ë…ë¦½ì ì¸ ê°œë°œíŒ€ ìš´ì˜ ê°€ëŠ¥
- **ê¸°ìˆ  ì§„í™”**: ê° ë„ë©”ì¸ë³„ ìµœì  ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ ììœ 
- **ìœ„í—˜ ë¶„ì‚°**: ì„œë¹„ìŠ¤ë³„ ì¥ì•  ê²©ë¦¬ ë° ë…ë¦½ì  ë³µêµ¬
- **ë¹„ìš© ìµœì í™”**: í•„ìš”ì— ë”°ë¥¸ ì„ íƒì  ìŠ¤ì¼€ì¼ë§
- **í˜ì‹  ê°€ì†**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ ë¹ ë¥¸ ì‹¤í—˜ ë° ë°°í¬

### ğŸš€ **ì°¨ë³„í™” ìš”ì†Œ**
ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¨ìˆœí•œ CRUD ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë„˜ì–´ì„œ, **ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì‹œìŠ¤í…œ ì„¤ê³„ ì—­ëŸ‰**ê³¼ **í˜„ëŒ€ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ ì´í•´ë„**ë¥¼ ë³´ì—¬ì£¼ëŠ” í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤. íŠ¹íˆ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì™€ MSA íŒ¨í„´ì˜ ì™„ë²½í•œ êµ¬í˜„ì„ í†µí•´, ì‹ ì… ê°œë°œì ìˆ˜ì¤€ì„ ë„˜ì–´ì„  **ì‹œë‹ˆì–´ ê°œë°œìê¸‰ ì•„í‚¤í…ì²˜ ì—­ëŸ‰**ì„ ì…ì¦í•©ë‹ˆë‹¤.

ì´ëŠ” í˜„ëŒ€ì ì¸ MSA ê°œë°œì˜ ëª¨ë²” ì‚¬ë¡€ë¥¼ êµ¬í˜„í•œ **í”„ë¡œë•ì…˜ ë ˆë””** ìˆ˜ì¤€ì˜ í”Œë«í¼ìœ¼ë¡œ, ì‹¤ë¬´ì—ì„œ ì¦‰ì‹œ í™œìš© ê°€ëŠ¥í•œ ê¸°ìˆ ì  ì—­ëŸ‰ì„ ë³´ì—¬ì£¼ëŠ” **ì°¨ë³„í™”ëœ í¬íŠ¸í´ë¦¬ì˜¤**ì…ë‹ˆë‹¤.